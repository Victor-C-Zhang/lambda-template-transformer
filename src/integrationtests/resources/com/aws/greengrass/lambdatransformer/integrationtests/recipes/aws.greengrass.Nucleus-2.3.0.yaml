---
RecipeFormatVersion: "2020-01-25"
ComponentName: "aws.greengrass.Nucleus"
ComponentVersion: "2.3.0"
ComponentType: "aws.greengrass.nucleus"
ComponentDescription: "Core functionality for device side orchestration of deployments\
  \ and lifecycle management for execution of Greengrass components and applications.\
  \ This includes features such as starting, stopping, and monitoring execution of\
  \ components and apps, interprocess communication server for communication between\
  \ components, component installation and configuration management."
ComponentPublisher: "AWS"
ComponentConfiguration:
  DefaultConfiguration:
    iotRoleAlias: ""
    awsRegion: ""
    networkProxy: {}
    componentStoreMaxSizeBytes: "10000000000"
    greengrassDataPlanePort: "8443"
    iotCredEndpoint: ""
    mqtt: {}
    iotDataEndpoint: ""
    runWithDefault: {}
    platformOverride: {}
    deploymentPollingFrequencySeconds: "15"
    jvmOptions: ""
Manifests:
  - Platform:
      os: "linux"
    Lifecycle:
      bootstrap:
        requiresPrivilege: "true"
        script: "\nset -eu\nKERNEL_ROOT=\"{kernel:rootPath}\"\nUNPACK_DIR=\"{artifacts:decompressedPath}/aws.greengrass.nucleus\"\
        \nrm -r \"$KERNEL_ROOT\"/alts/current/*\necho \"{configuration:/jvmOptions}\"\
        \ > \"$KERNEL_ROOT/alts/current/launch.params\"\nln -sf \"$UNPACK_DIR\" \"\
        $KERNEL_ROOT/alts/current/distro\"\nexit 100"
    Artifacts:
      - Uri: "greengrass:7Ee9sMo4BQ_Oop5wxjanrEi9EnfyNnFKFLUaUsOAjjo=/aws.greengrass.nucleus.zip"
        Digest: "9kjUuh/jYGFA1W/RIl8XRDEgTcfMwLye/ohPzRs7NZQ="
        Algorithm: "SHA-256"
        Unarchive: "ZIP"
        Permission:
          Read: "ALL"
          Execute: "ALL"
  - Platform:
      os: "darwin"
    Lifecycle:
      bootstrap:
        requiresPrivilege: "true"
        script: "\nset -eu\nKERNEL_ROOT=\"{kernel:rootPath}\"\nUNPACK_DIR=\"{artifacts:decompressedPath}/aws.greengrass.nucleus\"\
        \nrm -r \"$KERNEL_ROOT\"/alts/current/*\necho \"{configuration:/jvmOptions}\"\
        \ > \"$KERNEL_ROOT/alts/current/launch.params\"\nln -sf \"$UNPACK_DIR\" \"\
        $KERNEL_ROOT/alts/current/distro\"\nexit 100"
    Artifacts:
      - Uri: "greengrass:7Ee9sMo4BQ_Oop5wxjanrEi9EnfyNnFKFLUaUsOAjjo=/aws.greengrass.nucleus.zip"
        Digest: "9kjUuh/jYGFA1W/RIl8XRDEgTcfMwLye/ohPzRs7NZQ="
        Algorithm: "SHA-256"
        Unarchive: "ZIP"
        Permission:
          Read: "ALL"
          Execute: "ALL"
Lifecycle: {}
